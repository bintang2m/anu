<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>‚ú® Selamat Ulang Tahun, Mesa Putri! ‚ú® 21 Maret</title>
  <!-- Font Awesome 6 -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      min-height: 100vh;
      background: radial-gradient(ellipse at bottom, #0d1d31 0%, #0c0d13 100%);
      font-family: 'Poppins', sans-serif;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow-x: hidden;
      position: relative;
      color: #fff;
      padding: 20px 0;
    }

    /* ========================================= */
    /* === GLOBAL UTILITIES & ANIMATIONS === */
    /* ========================================= */
    .hidden-section {
      display: none !important;
      opacity: 0;
      pointer-events: none;
    }
    
    .fade-in {
      animation: fadeIn 0.8s ease forwards;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes glowPulse {
      0% { text-shadow: 0 0 15px #ffd966, 0 0 30px #ffae42; }
      50% { text-shadow: 0 0 30px #ffb347, 0 0 70px #ff7700, 0 0 100px #ff4500; }
      100% { text-shadow: 0 0 15px #ffd966, 0 0 30px #ffae42; }
    }

    @keyframes heartbeat {
      0%, 100% { transform: scale(1); }
      25% { transform: scale(1.2); }
      35% { transform: scale(1.1); }
    }

    @keyframes gradientShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    /* Tombol Umum */
    .common-btn {
      background: linear-gradient(45deg, #ff9a9e, #fad0c4, #a1c4fd, #c2e9fb);
      background-size: 300% 300%;
      border: none;
      color: #2c3e50;
      font-size: 1.4rem;
      font-weight: 700;
      padding: 15px 50px;
      border-radius: 60px;
      cursor: pointer;
      box-shadow: 0 15px 40px rgba(255, 107, 107, 0.6), 0 0 50px rgba(255, 217, 102, 0.5);
      transition: all 0.4s ease;
      animation: gradientShift 4s infinite;
      margin-top: 20px;
      display: inline-block;
    }
    .common-btn:hover {
      transform: scale(1.05);
      box-shadow: 0 20px 50px rgba(255, 107, 107, 0.8), 0 0 70px gold;
    }

    /* ========================================= */
    /* === 1. ENVELOPE SECTION === */
    /* ========================================= */
    .envelope-overlay {
      position: fixed;
      top: 0; left: 0; width: 100%; height: 100%;
      background: radial-gradient(ellipse at center, #1a2a4a 0%, #0a0a1a 100%);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      transition: opacity 0.8s ease, visibility 0.8s ease;
      padding: 20px;
    }
    .envelope-overlay.hidden { opacity: 0; visibility: hidden; pointer-events: none; }

    .envelope-title {
      font-family: 'Dancing Script', cursive;
      font-size: 3.5rem;
      color: #ffd966;
      text-align: center;
      margin-bottom: 30px;
      text-shadow: 0 0 20px #ffb347, 0 0 40px #ff8c00;
      animation: glowPulse 2s infinite;
    }

    .envelope-container {
      position: relative;
      width: 420px;
      height: 300px;
      cursor: pointer;
      perspective: 1000px;
      margin-bottom: 25px;
      max-width: 90vw;
    }
    .envelope {
      position: relative;
      width: 100%; height: 100%;
      background: linear-gradient(145deg, #c9a86a, #a67c3e);
      border-radius: 12px;
      box-shadow: 0 25px 60px rgba(0,0,0,0.6), inset 0 2px 15px rgba(255,255,255,0.3);
      border: 4px solid #e8d4a3;
      transition: transform 0.3s ease;
    }
    .envelope:hover { transform: scale(1.02); }
    .envelope-flap {
      position: absolute; top: 0; left: 0; width: 100%; height: 50%;
      background: linear-gradient(145deg, #b8965a, #966d2e);
      clip-path: polygon(50% 100%, 0 0, 100% 0);
      transform-origin: top;
      transition: transform 0.7s cubic-bezier(0.68, -0.55, 0.265, 1.55);
      z-index: 3;
      display: flex; align-items: center; justify-content: center;
    }
    .envelope-flap::after {
      content: 'üíå'; font-size: 4rem;
      filter: drop-shadow(0 0 15px gold);
      transition: opacity 0.3s;
    }
    .envelope-container.open .envelope-flap { transform: rotateX(180deg); }
    .envelope-container.open .envelope-flap::after { opacity: 0; }
    .envelope-body {
      position: absolute; bottom: 0; left: 0; width: 100%; height: 55%;
      background: linear-gradient(145deg, #d4b47a, #b8965a);
      clip-path: polygon(0 0, 100% 0, 50% 100%);
      z-index: 2;
    }
    .envelope-seal {
      position: absolute; top: 45%; left: 50%;
      transform: translate(-50%, -50%);
      width: 70px; height: 70px;
      background: radial-gradient(circle, #ff6b6b, #c0392b);
      border-radius: 50%;
      display: flex; align-items: center; justify-content: center;
      font-size: 2.5rem; color: white;
      box-shadow: 0 8px 30px rgba(0,0,0,0.5), 0 0 40px #ff6b6b80;
      z-index: 4; border: 4px solid #ffd966;
      transition: transform 0.5s ease, opacity 0.5s ease;
    }
    .envelope-container.open .envelope-seal { transform: translate(-50%, -50%) scale(0); opacity: 0; }

    .letter {
      position: absolute; top: 50%; left: 50%;
      transform: translate(-50%, -50%) scale(0.9);
      width: 380px; max-width: 85vw; min-height: 220px;
      background: linear-gradient(135deg, #fff9e6, #fff);
      border-radius: 20px;
      padding: 30px 25px;
      color: #2c2c4a;
      font-size: 1.1rem; line-height: 1.8;
      box-shadow: 0 15px 50px rgba(0,0,0,0.4);
      z-index: 1; opacity: 0;
      transition: all 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      display: flex; flex-direction: column;
      justify-content: center; align-items: center;
      text-align: center; border: 3px solid #ffd966;
    }
    .letter.visible { transform: translate(-50%, -55%) scale(1); opacity: 1; z-index: 5; }
    .letter h3 { font-family: 'Dancing Script', cursive; font-size: 2.5rem; color: #c0392b; margin-bottom: 15px; }
    .letter p { font-size: 1.05rem; color: #4a4a6a; margin: 8px 0; }
    .letter-heart { font-size: 3rem; color: #ff6b6b; margin: 10px 0; animation: heartbeat 1.2s infinite; }

    .click-hint {
      position: absolute; bottom: -45px; left: 50%;
      transform: translateX(-50%);
      font-size: 1.1rem; color: #ffd966;
      animation: bounce 1.5s infinite; white-space: nowrap;
    }
    @keyframes bounce {
      0%, 100% { transform: translateX(-50%) translateY(0); }
      50% { transform: translateX(-50%) translateY(-12px); }
    }

    /* ========================================= */
    /* === 2. PHOTO MEMORY SLIDER SECTION === */
    /* ========================================= */
    .memory-section {
      position: fixed;
      top: 0; left: 0; width: 100%; height: 100%;
      background: radial-gradient(ellipse at center, #1a2a4a 0%, #0a0a1a 100%);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 9998;
      padding: 20px;
    }
    .memory-title {
      font-family: 'Dancing Script', cursive;
      font-size: 3rem;
      color: #ffd966;
      margin-bottom: 30px;
      text-align: center;
      text-shadow: 0 0 20px #ffae42;
    }
    
    /* Slider Container */
    .slider-container {
      position: relative;
      width: 100%;
      max-width: 500px;
      height: 400px;
      perspective: 1000px;
      margin-bottom: 30px;
    }
    
    .photo-card {
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: #fff;
      border-radius: 15px;
      padding: 15px 15px 50px 15px; /* Polaroid style padding bottom */
      box-shadow: 0 20px 50px rgba(0,0,0,0.5);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      transition: all 0.6s cubic-bezier(0.25, 0.8, 0.25, 1);
      transform-origin: center bottom;
      opacity: 0;
      pointer-events: none;
      border: 8px solid white;
    }
    
    .photo-card img {
      width: 100%;
      height: 85%;
      object-fit: cover;
      border-radius: 8px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.2);
      margin-bottom: 15px;
    }
    
    .photo-card .caption {
      font-family: 'Dancing Script', cursive;
      font-size: 1.8rem;
      color: #333;
      text-align: center;
    }

    /* States for Slider */
    .photo-card.active {
      opacity: 1;
      transform: scale(1) rotate(0deg) translateX(0);
      z-index: 10;
      pointer-events: all;
    }
    .photo-card.prev {
      opacity: 0;
      transform: scale(0.8) rotate(-10deg) translateX(-100%);
      z-index: 5;
    }
    .photo-card.next {
      opacity: 0;
      transform: scale(0.8) rotate(10deg) translateX(100%);
      z-index: 5;
    }

    .slider-controls {
      display: flex;
      gap: 20px;
      align-items: center;
    }
    .control-btn {
      background: rgba(255,255,255,0.1);
      border: 2px solid #ffd966;
      color: #ffd966;
      width: 50px; height: 50px;
      border-radius: 50%;
      font-size: 1.5rem;
      cursor: pointer;
      transition: 0.3s;
      display: flex; align-items: center; justify-content: center;
    }
    .control-btn:hover {
      background: #ffd966;
      color: #0d1d31;
      transform: scale(1.1);
    }
    .photo-counter {
      color: #fff;
      font-size: 1.2rem;
      min-width: 60px;
      text-align: center;
    }

    /* ========================================= */
    /* === 3. COUNTDOWN SECTION === */
    /* ========================================= */
    .countdown-section {
      position: fixed;
      top: 0; left: 0; width: 100%; height: 100%;
      background: radial-gradient(ellipse at center, #2c1a4a 0%, #0a0a1a 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9997;
    }
    .countdown-number {
      font-family: 'Dancing Script', cursive;
      font-size: 15rem;
      font-weight: 700;
      background: linear-gradient(135deg, #ffd966, #ff6b6b, #a1c4fd);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      text-shadow: 0 0 50px rgba(255,217,102,0.7);
      animation: popIn 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
    }
    @keyframes popIn {
      0% { transform: scale(0); opacity: 0; }
      50% { transform: scale(1.2); }
      100% { transform: scale(1); opacity: 1; }
    }

    /* ========================================= */
    /* === 4. MAIN CONTENT (ORIGINAL CODE) === */
    /* ========================================= */
    .stars, .twinkling {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      display: block; pointer-events: none; z-index: 0;
    }
    .stars { background: #000 url('http://www.script-tutorials.com/demos/360/images/stars.png') repeat top center; }
    .twinkling {
      background: transparent url('http://www.script-tutorials.com/demos/360/images/twinkling.png') repeat top center;
      animation: move-twink-back 200s linear infinite;
    }
    @keyframes move-twink-back { from {background-position: 0 0;} to {background-position: -10000px 5000px;} }

    .falling-stars {
      position: fixed; width: 100%; height: 100%; z-index: 2;
      overflow: hidden; pointer-events: none;
    }
    .falling-star {
      position: absolute; width: 2px; height: 80px;
      background: linear-gradient(180deg, rgba(255,255,255,0.8) 0%, rgba(255,255,255,0) 100%);
      transform: rotate(-20deg); filter: drop-shadow(0 0 6px #fffac2);
      animation: fall 4s linear infinite; opacity: 0.6;
    }
    @keyframes fall {
      0% { transform: translateY(-200px) translateX(0) rotate(-20deg); opacity: 0.8; }
      100% { transform: translateY(100vh) translateX(300px) rotate(-20deg); opacity: 0; }
    }
    .star1 { left: 10%; animation-duration: 3.5s; animation-delay: 0s; height: 70px; }
    .star2 { left: 25%; animation-duration: 5s; animation-delay: 1s; height: 100px; }
    .star3 { left: 40%; animation-duration: 4.2s; animation-delay: 0.5s; height: 60px; }
    .star4 { left: 55%; animation-duration: 6s; animation-delay: 2s; height: 120px; }
    .star5 { left: 70%; animation-duration: 3.8s; animation-delay: 1.3s; height: 80px; }
    .star6 { left: 85%; animation-duration: 5.5s; animation-delay: 0.2s; height: 90px; }
    .star7 { left: 95%; animation-duration: 4.7s; animation-delay: 2.5s; height: 70px; }

    .birthday-card {
      position: relative; z-index: 20;
      width: 95%; max-width: 1000px;
      background: rgba(255, 255, 255, 0.08);
      backdrop-filter: blur(18px); -webkit-backdrop-filter: blur(18px);
      border-radius: 60px 60px 40px 40px;
      border: 2px solid rgba(255, 223, 128, 0.6);
      box-shadow: 0 30px 60px rgba(0,0,0,0.6), 0 0 80px rgba(255, 215, 0, 0.4);
      padding: 2.5rem 2rem 3rem;
      margin: 2rem 1rem;
      text-align: center;
      animation: float 7s ease-in-out infinite;
      opacity: 0; transform: scale(0.95);
      transition: opacity 0.8s ease, transform 0.8s ease;
    }
    .birthday-card.visible { opacity: 1; transform: scale(1); }
    @keyframes float { 0% { transform: translateY(0px); } 50% { transform: translateY(-15px); } 100% { transform: translateY(0px); } }

    .special-date {
      font-family: 'Dancing Script', cursive; font-size: 2.8rem; color: #ffe68f;
      text-shadow: 0 0 20px #ffb347, 0 0 40px #ff8c00, 0 0 60px #ff5500;
      margin-bottom: 0.5rem; animation: glowPulse 2s infinite;
      display: flex; align-items: center; justify-content: center; gap: 20px;
    }
    .special-date i { font-size: 2.5rem; color: #ffd966; filter: drop-shadow(0 0 15px gold); }

    .name-mesa {
      font-family: 'Dancing Script', cursive; font-size: 5.5rem; font-weight: 700;
      background: linear-gradient(135deg, #f6d5f7, #fbe9d2, #c7e9fb, #fbc2eb);
      -webkit-background-clip: text; background-clip: text; color: transparent;
      margin: 0.2rem 0; line-height: 1.2;
      filter: drop-shadow(0 0 35px #ffb6c1) drop-shadow(0 0 25px #ffd700);
      animation: sparkleName 4s infinite alternate;
    }
    @keyframes sparkleName {
      0% { letter-spacing: 2px; filter: drop-shadow(0 0 20px #ffb6c1) drop-shadow(0 0 10px #fff); }
      100% { letter-spacing: 10px; filter: drop-shadow(0 0 50px #ffd700) drop-shadow(0 0 30px #ff69b4); }
    }

    .balloons { display: flex; justify-content: center; gap: 20px; margin: 20px 0 25px; flex-wrap: wrap; }
    .balloon {
      width: 60px; height: 75px; background: #ff6f91;
      border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
      animation: sway 4s ease-in-out infinite; position: relative;
      box-shadow: inset -7px -10px 0 #d45d7a, 0 10px 15px rgba(0,0,0,0.3);
    }
    .balloon::after {
      content: ''; position: absolute; bottom: -12px; left: 27px;
      width: 2.5px; height: 40px; background: rgba(255,255,240,0.9); transform: rotate(6deg);
    }
    .balloon:nth-child(2) { background: #6ec8ff; animation-delay: 0.5s; box-shadow: inset -7px -10px 0 #4a9fd0; }
    .balloon:nth-child(3) { background: #f5e56b; animation-delay: 1s; box-shadow: inset -7px -10px 0 #c9b345; }
    .balloon:nth-child(4) { background: #b88ef0; animation-delay: 1.7s; box-shadow: inset -7px -10px 0 #8b63c9; }
    .balloon:nth-child(5) { background: #9ad0b3; animation-delay: 2.2s; box-shadow: inset -7px -10px 0 #5f9b80; }
    @keyframes sway { 0%,100% { transform: translateY(0) rotate(3deg); } 50% { transform: translateY(-20px) rotate(-3deg); } }

    .cake-container { display: flex; justify-content: center; align-items: flex-end; margin: 40px 0 30px; perspective: 500px; }
    .deluxe-cake {
      position: relative; width: 320px; height: 240px;
      transform-style: preserve-3d; transform: rotateX(3deg) rotateY(3deg);
      animation: rotateDeluxeCake 16s infinite ease-in-out;
      filter: drop-shadow(0 20px 25px #00000080);
    }
    @keyframes rotateDeluxeCake {
      0% { transform: rotateX(3deg) rotateY(0deg); } 25% { transform: rotateX(4deg) rotateY(8deg); }
      50% { transform: rotateX(3deg) rotateY(0deg); } 75% { transform: rotateX(4deg) rotateY(-8deg); }
      100% { transform: rotateX(3deg) rotateY(0deg); }
    }
    .tier-base {
      position: absolute; bottom: 0; left: 35px; width: 250px; height: 70px;
      background: linear-gradient(145deg, #d4af37, #b8860b);
      border-radius: 40px 40px 20px 20px;
      box-shadow: 0 15px 0 #7d5d0b, 0 20px 30px rgba(0,0,0,0.5); border: 2px solid #ffe484;
    }
    .tier-base::before {
      content: ''; position: absolute; top: 10px; left: 20px; width: 210px; height: 15px;
      background: rgba(255, 239, 179, 0.6); border-radius: 20px; filter: blur(2px);
    }
    .tier-middle {
      position: absolute; bottom: 60px; left: 70px; width: 180px; height: 60px;
      background: linear-gradient(145deg, #c06b6b, #9e3b3b);
      border-radius: 30px 30px 15px 15px;
      box-shadow: 0 12px 0 #612525, 0 20px 25px rgba(0,0,0,0.5); border: 2px solid #f0b27a;
    }
    .tier-middle::before {
      content: ''; position: absolute; top: 8px; left: 15px; width: 150px; height: 12px;
      background: rgba(255, 215, 135, 0.5); border-radius: 20px; filter: blur(2px);
    }
    .tier-top {
      position: absolute; bottom: 110px; left: 105px; width: 110px; height: 50px;
      background: linear-gradient(145deg, #f8f0e0, #eeddcc);
      border-radius: 25px 25px 15px 15px;
      box-shadow: 0 10px 0 #bbaa99, 0 18px 20px rgba(0,0,0,0.5); border: 2px solid #fff3d1;
    }
    .tier-top::before {
      content: ''; position: absolute; top: 6px; left: 10px; width: 90px; height: 10px;
      background: rgba(255, 230, 200, 0.7); border-radius: 20px; filter: blur(2px);
    }
    .pearls { position: absolute; width: 100%; height: 100%; pointer-events: none; }
    .pearl {
      position: absolute; width: 10px; height: 10px;
      background: radial-gradient(circle at 30% 30%, #fff9e6, #f5e6d3);
      border-radius: 50%; box-shadow: 0 0 10px #fffacd, 0 0 20px #ffd700;
    }
    .p1 { bottom: 60px; left: 40px; } .p2 { bottom: 60px; right: 40px; }
    .p3 { bottom: 115px; left: 70px; } .p4 { bottom: 115px; right: 70px; }
    .p5 { bottom: 165px; left: 110px; } .p6 { bottom: 165px; right: 110px; }
    .p7 { bottom: 180px; left: 135px; } .p8 { bottom: 180px; right: 135px; }
    .candle-deluxe {
      position: absolute; bottom: 155px; left: 150px; width: 18px; height: 70px;
      background: linear-gradient(135deg, #fff1c1, #f7d9a0);
      border-radius: 9px 9px 4px 4px;
      box-shadow: 0 10px 0 #b35e3a, 0 12px 20px #00000060; z-index: 10; border: 1px solid #ffe68f;
    }
    .flame-deluxe {
      position: absolute; bottom: 220px; left: 150px; width: 26px; height: 45px;
      background: radial-gradient(circle at 50% 30%, #fff7b0, #ffae42, #ff5e00);
      border-radius: 50% 50% 30% 30%; transform: rotate(-5deg);
      filter: blur(1.5px) drop-shadow(0 -10px 25px orange);
      animation: flickerDeluxe 0.2s infinite alternate, flameMoveDeluxe 3s infinite; z-index: 15;
    }
    @keyframes flickerDeluxe {
      0% { transform: scale(1) rotate(-4deg); opacity: 0.95; filter: blur(1px) drop-shadow(0 -10px 25px #ffb347); }
      100% { transform: scale(1.15, 1.35) rotate(-6deg); opacity: 1; filter: blur(1.5px) drop-shadow(0 -15px 35px #ff7700); }
    }
    @keyframes flameMoveDeluxe { 0% { left: 150px; } 25% { left: 152px; } 75% { left: 148px; } 100% { left: 150px; } }
    .cake-stand {
      position: absolute; bottom: -15px; left: 15px; width: 290px; height: 20px;
      background: linear-gradient(145deg, #b8860b, #966d0c);
      border-radius: 50%; box-shadow: 0 8px 0 #5a3e0b, 0 20px 30px black; z-index: -1;
    }

    .message-box {
      background: rgba(0, 0, 0, 0.4); backdrop-filter: blur(5px);
      border-radius: 60px 60px 40px 40px; padding: 30px 25px;
      margin: 40px 0 30px; border: 2px solid #ffdf80;
      box-shadow: inset 0 0 30px #ffd96633, 0 10px 30px black;
    }
    .heart-icon { color: #ff4d6d; font-size: 3rem; filter: drop-shadow(0 0 30px #ff5e7c); animation: heartbeat 1.5s infinite; }
    .message-box p { font-size: 1.4rem; font-weight: 300; margin: 15px 0; }
    .big-message { font-family: 'Dancing Script', cursive; font-size: 2.8rem; color: #ffd966; font-weight: 700; }
    .love-letter {
      font-size: 1.2rem; background: rgba(255,255,240,0.1); padding: 20px;
      border-radius: 40px; margin: 20px 0; line-height: 1.8; text-align: left;
    }
    .love-letter i { color: #ffb3b3; }

    .gallery-title { font-size: 2rem; font-weight: 600; margin: 30px 0 20px; color: #ffe68f; }
    .photo-gallery { display: flex; gap: 15px; justify-content: center; flex-wrap: wrap; margin: 20px 0; }
    .photo-frame {
      width: 110px; height: 110px; border-radius: 30px 10px 30px 10px;
      background: linear-gradient(145deg, #ffdab9, #ffb6c1); border: 4px solid white;
      transform: rotate(5deg); animation: photoFloat 6s infinite;
      box-shadow: 0 15px 25px black; display: flex; flex-direction: column;
      align-items: center; justify-content: center; font-size: 2.8rem; color: #4a2c2c; transition: 0.3s;
    }
    .photo-frame:nth-child(even) { transform: rotate(-4deg); animation-delay: 0.5s; }
    .photo-frame:hover { transform: scale(1.1) rotate(0deg); z-index: 30; border-color: gold; }
    .photo-frame span { font-size: 0.8rem; background: rgba(0,0,0,0.6); color: white; padding: 3px 8px; border-radius: 20px; margin-top: 5px; }
    @keyframes photoFloat { 0% { transform: translateY(0) rotate(5deg); } 50% { transform: translateY(-15px) rotate(8deg); } 100% { transform: translateY(0) rotate(5deg); } }

    .playlist { background: rgba(0, 0, 0, 0.3); border-radius: 50px; padding: 20px; margin: 30px 0; border: 2px dashed #f5b7b1; }
    .playlist h3 { font-size: 2rem; font-family: 'Dancing Script', cursive; margin-bottom: 15px; }
    .songs { display: flex; flex-wrap: wrap; justify-content: center; gap: 15px; }
    .song-tag {
      background: #ffffff20; padding: 8px 20px; border-radius: 40px;
      font-size: 1.2rem; border: 1px solid #fff0b5; backdrop-filter: blur(3px); transition: 0.2s;
    }
    .song-tag i { margin-right: 6px; color: #ffb3b3; }
    .song-tag:hover { background: #ffd96640; transform: scale(1.05); border-color: gold; }

    .countdown-main { font-size: 1.8rem; background: #2c2c5c60; border-radius: 50px; padding: 15px; margin: 20px 0; border: 2px solid #9b59b6; }
    .countdown-main span { font-weight: 700; color: #f1c40f; }

    .surprise-btn {
      background: linear-gradient(45deg, #ff9a9e, #fad0c4, #fad0c4, #ff9a9e);
      background-size: 300% 300%; border: none; color: #2c3e50;
      font-size: 1.8rem; font-weight: 700; padding: 18px 50px; border-radius: 60px;
      cursor: pointer; box-shadow: 0 15px 30px #ff6f91, 0 0 50px #fff0b5;
      transition: 0.4s; margin: 30px 0 20px; animation: gradientShift 4s infinite;
    }
    .surprise-btn:hover { transform: scale(1.15); box-shadow: 0 20px 40px #ff3b6f, 0 0 80px gold; }

    #surpriseMessage { margin-top: 20px; font-size: 2rem; min-height: 70px; color: #feda75; font-weight: 600; text-shadow: 0 0 20px #ffb347; }
    .footer-note { margin-top: 40px; font-size: 1.5rem; opacity: 0.9; font-family: 'Dancing Script', cursive; }

    @keyframes fallConf { 0% { transform: translateY(0) rotate(0deg); opacity: 1; } 100% { transform: translateY(100vh) rotate(720deg); opacity: 0; } }
    @keyframes floatUp { 0% { transform: translateY(0) scale(1); opacity: 1; } 100% { transform: translateY(-100vh) scale(1.5); opacity: 0; } }

    @media (max-width: 500px) {
      .envelope-container { width: 340px; height: 250px; }
      .envelope-flap::after { font-size: 3rem; }
      .envelope-seal { width: 55px; height: 55px; font-size: 2rem; }
      .letter { width: 310px; font-size: 0.95rem; padding: 25px 20px; }
      .letter h3 { font-size: 2rem; }
      .common-btn { font-size: 1.2rem; padding: 12px 40px; }
      .countdown-number { font-size: 10rem; }
      .slider-container { height: 350px; }
    }
  </style>
</head>
<body>

  <!-- === 1. ENVELOPE SECTION === -->
  <div class="envelope-overlay" id="envelopeOverlay">
    <div class="envelope-title">üíå Pesan Khusus Untuk Mesa Putri üíå</div>
    
    <div class="envelope-container" id="envelopeContainer">
      <div class="envelope">
        <div class="envelope-flap"></div>
        <div class="envelope-body"></div>
        <div class="envelope-seal">‚ù§Ô∏è</div>
      </div>
      <div class="letter" id="letter">
        <h3>‚ú® Untuk Mesa Putri Tersayang ‚ú®</h3>
        <div class="letter-heart">üíñ</div>
        <p>Di hari spesialmu, 21 Maret...</p>
        <p>Aku punya sesuatu yang spesial untukmu.</p>
        <p style="margin-top:15px; font-weight:600; color:#c0392b;">Klik tombol di bawah untuk melihatnya! üéÅ</p>
      </div>
    </div>
    
    <div class="click-hint" id="clickHint">üëÜ Klik amplop untuk membuka üëÜ</div>
    
    <button class="common-btn" id="proceedBtn" style="display:none;">
      <i class="fas fa-arrow-right"></i> Lanjut! <i class="fas fa-arrow-right"></i>
    </button>
  </div>

  <!-- === 2. PHOTO MEMORY SLIDER SECTION === -->
  <div class="memory-section hidden-section" id="memorySection">
    <h2 class="memory-title">üì∏ Jejak Kenangan Kita üì∏</h2>
    
    <div class="slider-container" id="sliderContainer">
      <!-- FOTO 1 -->
      <div class="photo-card active">
        <!-- GANTI src DI BAWAH INI DENGAN LINK FOTO ASLI KALIAN -->
        <img src="https://images.unsplash.com/photo-1516589178581-6cd7833ae3b2?ixlib=rb-1.2.1&auto=format&fit=crop&w=634&q=80" alt="Foto 1">
        <div class="caption">Pertama Kali Bertemu üíï</div>
      </div>
      <!-- FOTO 2 -->
      <div class="photo-card next">
        <img src="https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?ixlib=rb-1.2.1&auto=format&fit=crop&w=634&q=80" alt="Foto 2">
        <div class="caption">Momen Lucu Kita üòÇ</div>
      </div>
      <!-- FOTO 3 -->
      <div class="photo-card next">
        <img src="https://images.unsplash.com/photo-1511895426328-dc8714191300?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80" alt="Foto 3">
        <div class="caption">Jalan-jalan Seru üå¥</div>
      </div>
      <!-- FOTO 4 -->
      <div class="photo-card next">
        <img src="https://images.unsplash.com/photo-1523438885200-e635ba2c371e?ixlib=rb-1.2.1&auto=format&fit=crop&w=634&q=80" alt="Foto 4">
        <div class="caption">Cinta Kita ‚ù§Ô∏è</div>
      </div>
    </div>

    <div class="slider-controls">
      <button class="control-btn" id="prevPhoto"><i class="fas fa-chevron-left"></i></button>
      <div class="photo-counter" id="photoCounter">1 / 4</div>
      <button class="control-btn" id="nextPhoto"><i class="fas fa-chevron-right"></i></button>
    </div>

    <button class="common-btn" id="finishPhotosBtn" style="display:none;">
      Lanjut ke Kejutan <i class="fas fa-gift"></i>
    </button>
  </div>

  <!-- === 3. COUNTDOWN SECTION === -->
  <div class="countdown-section hidden-section" id="countdownSection">
    <div class="countdown-number" id="countdownNum">3</div>
  </div>

  <!-- === 4. MAIN CONTENT (ORIGINAL) === -->
  <div class="stars"></div>
  <div class="twinkling"></div>
  <div class="falling-stars">
    <div class="falling-star star1"></div><div class="falling-star star2"></div><div class="falling-star star3"></div>
    <div class="falling-star star4"></div><div class="falling-star star5"></div><div class="falling-star star6"></div><div class="falling-star star7"></div>
  </div>

  <main class="birthday-card" id="birthdayCard">
    <div class="special-date">
      <i class="fas fa-calendar-alt"></i> 21 Maret 2026 <i class="fas fa-calendar-check"></i>
    </div>
    <div class="name-mesa">‚ú® Mesa Putri ‚ú®</div>
    <div class="balloons">
      <div class="balloon"></div><div class="balloon"></div><div class="balloon"></div>
      <div class="balloon"></div><div class="balloon"></div>
    </div>
    <div class="cake-container">
      <div class="deluxe-cake">
        <div class="cake-stand"></div>
        <div class="tier-base"></div><div class="tier-middle"></div><div class="tier-top"></div>
        <div class="pearls">
          <div class="pearl p1"></div><div class="pearl p2"></div><div class="pearl p3"></div><div class="pearl p4"></div>
          <div class="pearl p5"></div><div class="pearl p6"></div><div class="pearl p7"></div><div class="pearl p8"></div>
        </div>
        <div class="candle-deluxe"></div><div class="flame-deluxe"></div>
        <div style="position:absolute; bottom:40px; left:80px; color:gold; font-size:1.5rem; filter:drop-shadow(0 0 5px gold);">‚ú®</div>
        <div style="position:absolute; bottom:90px; right:70px; color:gold; font-size:2rem; filter:drop-shadow(0 0 7px gold);">‚ú®</div>
      </div>
    </div>
    <div class="message-box">
      <div class="heart-icon"><i class="fas fa-heart"></i></div>
      <p class="big-message">Happy Birthday, My Love!</p>
      <p>Untuk Mesa Putri tercinta,</p>
      <div class="love-letter">
        <i class="fas fa-quote-left"></i> Di hari spesialmu ini, 21 Maret, aku ingin engkau tahu betapa berartinya dirimu. 
        Setiap senyummu adalah mentari, setiap tawamu adalah musik terindah. Semoga di usia yang baru ini 
        semua mimpi-mimpimu menjadi nyata, kebahagiaan selalu menyertai, dan cinta kita semakin tumbuh indah. 
        Terima kasih telah menjadi bintang dalam hidupku. Selamat ulang tahun, putri cantikku! <i class="fas fa-quote-right"></i>
      </div>
      <p><i class="fas fa-star"></i> 21 Maret - Hari terindah <i class="fas fa-star"></i></p>
    </div>
    <div class="gallery-title">üì∏ Kenangan Manis üì∏</div>
    <div class="photo-gallery">
      <div class="photo-frame"><i class="fas fa-tree"></i><span>Pertama ketemu</span></div>
      <div class="photo-frame"><i class="fas fa-umbrella-beach"></i><span>Liburan</span></div>
      <div class="photo-frame"><i class="fas fa-heart"></i><span>Anniv</span></div>
      <div class="photo-frame"><i class="fas fa-cake-candles"></i><span>Ultah lalu</span></div>
      <div class="photo-frame"><i class="fas fa-ring"></i><span>Spesial</span></div>
    </div>
    <div class="playlist">
      <h3><i class="fas fa-headphones-alt"></i> Playlist untuk Mesa</h3>
      <div class="songs">
        <div class="song-tag"><i class="fas fa-music"></i> Perfect - Ed Sheeran</div>
        <div class="song-tag"><i class="fas fa-music"></i> Say You Won't Let Go</div>
        <div class="song-tag"><i class="fas fa-music"></i> Thinking Out Loud</div>
        <div class="song-tag"><i class="fas fa-music"></i> Berbahagialah</div>
        <div class="song-tag"><i class="fas fa-music"></i> Penantian Berharga</div>
        <div class="song-tag"><i class="fas fa-music"></i> Cinta Terbaik</div>
      </div>
    </div>
    <div class="countdown-main">
      <i class="fas fa-hourglass-half"></i> Hari ini: <span>21 Maret 2026</span> ‚Äî Saatnya Merayakan! üéâ
    </div>
    <button class="surprise-btn" id="surpriseBtn">
      <i class="fas fa-gift"></i> Kejutan Megah! <i class="fas fa-gift"></i>
    </button>
    <div id="surpriseMessage"></div>
    <div class="footer-note">
      <i class="fas fa-star"></i> With all my love, forever. <i class="fas fa-star"></i>
    </div>
  </main>

  <!-- JAVASCRIPT LOGIC -->
  <script>
    (function() {
      // Elements
      const envelopeOverlay = document.getElementById('envelopeOverlay');
      const envelopeContainer = document.getElementById('envelopeContainer');
      const letter = document.getElementById('letter');
      const clickHint = document.getElementById('clickHint');
      const proceedBtn = document.getElementById('proceedBtn');
      
      const memorySection = document.getElementById('memorySection');
      const photos = document.querySelectorAll('.photo-card');
      const prevBtn = document.getElementById('prevPhoto');
      const nextBtn = document.getElementById('nextPhoto');
      const counterDisplay = document.getElementById('photoCounter');
      const finishPhotosBtn = document.getElementById('finishPhotosBtn');
      
      const countdownSection = document.getElementById('countdownSection');
      const countdownNum = document.getElementById('countdownNum');
      
      const birthdayCard = document.getElementById('birthdayCard');
      const surpriseBtn = document.getElementById('surpriseBtn');
      const msgDiv = document.getElementById('surpriseMessage');

      let currentPhotoIndex = 0;
      const totalPhotos = photos.length;

      // --- 1. ENVELOPE LOGIC ---
      envelopeContainer.addEventListener('click', function(e) {
        if (e.target.closest('.common-btn')) return;
        if (envelopeContainer.classList.contains('open')) return;
        
        envelopeContainer.classList.add('open');
        clickHint.style.display = 'none';
        
        setTimeout(() => {
          letter.classList.add('visible');
          setTimeout(() => {
            proceedBtn.style.display = 'inline-block';
            setTimeout(() => proceedBtn.classList.add('fade-in'), 50);
          }, 500);
        }, 600);
      });

      proceedBtn.addEventListener('click', function() {
        envelopeOverlay.classList.add('hidden');
        setTimeout(() => {
          envelopeOverlay.style.display = 'none';
          memorySection.classList.remove('hidden-section');
          memorySection.classList.add('fade-in');
          updateSlider();
        }, 800);
      });

      // --- 2. PHOTO SLIDER LOGIC ---
      function updateSlider() {
        photos.forEach((photo, index) => {
          photo.classList.remove('active', 'prev', 'next');
          if (index === currentPhotoIndex) {
            photo.classList.add('active');
          } else if (index < currentPhotoIndex) {
            photo.classList.add('prev');
          } else {
            photo.classList.add('next');
          }
        });
        
        counterDisplay.textContent = `${currentPhotoIndex + 1} / ${totalPhotos}`;
        
        // Show finish button only on last photo
        if (currentPhotoIndex === totalPhotos - 1) {
          finishPhotosBtn.style.display = 'inline-block';
          setTimeout(() => finishPhotosBtn.classList.add('fade-in'), 50);
        } else {
          finishPhotosBtn.style.display = 'none';
        }
      }

      nextBtn.addEventListener('click', () => {
        if (currentPhotoIndex < totalPhotos - 1) {
          currentPhotoIndex++;
          updateSlider();
        }
      });

      prevBtn.addEventListener('click', () => {
        if (currentPhotoIndex > 0) {
          currentPhotoIndex--;
          updateSlider();
        }
      });

      finishPhotosBtn.addEventListener('click', startCountdown);

      // --- 3. COUNTDOWN LOGIC ---
      function startCountdown() {
        memorySection.classList.add('hidden-section');
        setTimeout(() => {
          memorySection.style.display = 'none';
          countdownSection.classList.remove('hidden-section');
          
          let count = 3;
          countdownNum.textContent = count;
          
          const interval = setInterval(() => {
            count--;
            if (count > 0) {
              // Reset animation
              countdownNum.style.animation = 'none';
              countdownNum.offsetHeight; /* trigger reflow */
              countdownNum.style.animation = 'popIn 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards';
              countdownNum.textContent = count;
            } else {
              clearInterval(interval);
              countdownNum.textContent = "üéâ";
              setTimeout(showMainContent, 500);
            }
          }, 1000);
        }, 500);
      }

      function showMainContent() {
        countdownSection.classList.add('hidden-section');
        setTimeout(() => {
          countdownSection.style.display = 'none';
          birthdayCard.classList.add('visible');
          window.scrollTo({ top: 0, behavior: 'smooth' });
          popConfetti(); // Auto confetti on enter
        }, 500);
      }

      // --- 4. MAIN CONTENT SURPRISE LOGIC ---
      function popConfetti() {
        for (let i = 0; i < 80; i++) {
          const conf = document.createElement('div');
          conf.style.position = 'fixed';
          conf.style.left = Math.random() * 100 + '%';
          conf.style.top = '-10px';
          conf.style.width = Math.random() * 14 + 4 + 'px';
          conf.style.height = Math.random() * 18 + 8 + 'px';
          conf.style.background = `hsl(${Math.random() * 360}, 85%, 65%)`;
          conf.style.borderRadius = Math.random() > 0.5 ? '50%' : '3px';
          conf.style.zIndex = 9999;
          conf.style.pointerEvents = 'none';
          conf.style.boxShadow = '0 0 15px currentColor';
          conf.style.animation = `fallConf 3.5s linear forwards`;
          conf.style.animationDuration = Math.random() * 2 + 2 + 's';
          document.body.appendChild(conf);
          setTimeout(() => { if (conf.parentNode) conf.remove(); }, 5000);
        }
        if (!document.getElementById('confettiKeyframes')) {
          const styleSheet = document.createElement('style');
          styleSheet.id = 'confettiKeyframes';
          styleSheet.innerHTML = `@keyframes fallConf { 0% { transform: translateY(0) rotate(0deg); opacity: 1; } 100% { transform: translateY(100vh) rotate(720deg); opacity: 0; } }`;
          document.head.appendChild(styleSheet);
        }
      }

      surpriseBtn.addEventListener('click', function() {
        msgDiv.innerHTML = 'üíñüíñüíñ Happy Birthday, Mesa Putri! 21 Maret Forever! üíñüíñüíñ';
        popConfetti();
        // Floating hearts
        for (let i = 0; i < 20; i++) {
          const heart = document.createElement('div');
          heart.innerHTML = '‚ù§Ô∏è';
          heart.style.position = 'fixed';
          heart.style.left = Math.random() * 100 + '%';
          heart.style.bottom = '0';
          heart.style.fontSize = Math.random() * 30 + 20 + 'px';
          heart.style.zIndex = 10000;
          heart.style.animation = `floatUp ${Math.random() * 4 + 3}s linear forwards`;
          heart.style.pointerEvents = 'none';
          heart.style.filter = 'drop-shadow(0 0 15px red)';
          document.body.appendChild(heart);
          setTimeout(() => { if(heart.parentNode) heart.remove(); }, 6000);
        }
        if (!document.getElementById('floatUpKeyframes')) {
          const style2 = document.createElement('style');
          style2.id = 'floatUpKeyframes';
          style2.innerHTML = `@keyframes floatUp { 0% { transform: translateY(0) scale(1); opacity: 1; } 100% { transform: translateY(-100vh) scale(1.5); opacity: 0; } }`;
          document.head.appendChild(style2);
        }
      });

      // Initialize keyframes
      if (!document.getElementById('floatUpKeyframes')) {
        const style2 = document.createElement('style');
        style2.id = 'floatUpKeyframes';
        style2.innerHTML = `@keyframes floatUp { 0% { transform: translateY(0) scale(1); opacity: 1; } 100% { transform: translateY(-100vh) scale(1.5); opacity: 0; } }`;
        document.head.appendChild(style2);
      }
    })();
  </script>

  <div style="position: fixed; bottom: 5px; left: 0; width: 100%; text-align: center; font-size: 1rem; color: #fff9; z-index: 30; pointer-events: none; text-shadow: 0 0 10px black;">
    ‚ú® Selamat Ulang Tahun, Mesa Putri! 21 Maret - Hari yang penuh cinta ‚ú®
  </div>
</body>
</html>